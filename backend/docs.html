<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Documentation API MomoConnect</title>
    <style>
      :root {
        --primary: #1c461e;
        --secondary: #afd035;
        --accent: #6da016;
        --dark: #397828;
        --light: #f9f9f9;
        --text: #333;
        --text-light: #fff;
        --border: #e1e1e1;
        --pre:  rgb(223, 223, 223);
        --transition: all 0.3s ease;
      }
      *{
        scroll-behavior: smooth;
      }
      body {
        margin: 0;
        font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        background: var(--light);
        color: var(--text);
        line-height: 1.6;
        display: flex;
        min-height: 100vh;
        font-size: .9rem;
      }
      
      /* Sidebar */
      .sidebar {
        width: 280px;
        background: var(--primary);
        color: var(--text-light);
        height: 100vh;
        position: fixed;
        padding: 1rem  .8rem;
        box-sizing: border-box;
        overflow-y: auto;
        box-shadow: var(--shadow);
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }
      .sidebar .footer {
        font-size: smaller;
        text-align: center;
        padding-inline: 1rem;
        opacity: 60%;
      }
         
      .sidebar h2 {
        font-size: 1.25rem;
        margin: 2rem 0rem 0rem .8rem;
        padding-bottom: 0.75rem;
        color: var(--secondary);
        border-bottom: 1px solid  var(--primary);
      }
      
      .sidebar a {
        color: var(--text-light);
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.75rem;
        margin: 0.2 5rem 0;
        border-radius: 6px;
        transition: var(--transition);
      }
      
      .sidebar a:hover {
        background:  var(--primary);
        color: var(--secondary);
      }
      
      /* Content */
      .content {
        margin-left: 280px;
        padding: 2rem;
        max-width: 900px;
        flex: 1;
      }
      
      h1 {
        color: var(--primary);
        font-size: 2rem;
        margin: 0 0 1.5rem;
        padding-bottom: 1rem;
        border-bottom: 2px solid var(--secondary);
      }
      
      h2 {
        color: var(--dark);
        font-size: 1.5rem;
        margin: 2rem 0 1rem;
      }
      
      h3 {
        color: var(--accent);
        font-size: 1.25rem;
        margin: 1.5rem 0 1rem;
      }
      
      p {
        margin: 1rem 0;
      }
      
      pre {
        background:  var(--pre); 
        padding: 1rem;
        border-radius: 6px;
        overflow-x: auto;
        margin: 1rem 0;
        font-family: 'Courier New', Courier, monospace;
        font-size: 0.9rem;
        line-height: 1.5;
        box-shadow: var(--shadow);
        position: relative;
      }
      
      pre::before {
        content: attr(data-lang);
        position: absolute;
        top: 0;
        right: 0;
        background:  var(--primary);
        color: #ccc;
        padding: 0.2rem 0.8rem;
        font-size: 0.8rem;
        border-bottom-left-radius: 4px;
       
      }
      
      .container{
         margin:  1rem 0 4rem ; 
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin:  1rem 0 4rem ; 
      }
      
      th, td {
        padding: 0.75rem;
        text-align: left;
        border-bottom: 1px solid var(--border);
      }
      
      th {
        background: var(--primary);
        color: var(--text-light);
      }
      
      tr:nth-child(even) {
        background: var(--pre);;
      }
      
      .icon {
        width: 18px;
        height: 18px;
        stroke: currentColor;
        stroke-width: 2;
        fill: none;
      }
      
      /* API Tester */
      .api-tester { 
        border-radius: 8px; 
        margin: 2rem 0;
        box-shadow: var(--shadow);
      }
      
      .api-tester h3 {
        margin-top: 0;
        color: var(--primary);
      }
      
      .api-tester select, 
      .api-tester input, 
      .api-tester textarea {
        width: 100%;
        padding: 0.75rem;
        margin: 0.5rem 0 1rem;
        border: 1px solid var(--border);
        border-radius: 6px;
        font-family: inherit;
        font-size: 1rem;
      }
      
      .api-tester textarea {
        min-height: 120px;
        width: calc( 100% - 1.7rem);
        resize: vertical;
      }
      
      .api-tester button {
        background: var(--primary);
        color: white;
        border: none;
        padding: 0.75rem 1.5rem; 
        cursor: pointer;
        font-size: 1rem;
        transition: var(--transition);
      }
      
      .api-tester button:hover {
        background: var(--accent);
         
      }
      
      .response-area {
        margin-top: 1.5rem;
        padding: 1rem;
        background: var(--pre); 
        border-left: 4px solid var(--primary);
      }
      
      /* Footer */
      footer {
        margin-left: 280px;
        background: var(--primary);
        color: var(--text-light);
        text-align: center;
        padding: 1.5rem;
      }
      
      /* Responsive */
      @media (max-width: 768px) {
        .sidebar {
          width: 100%;
          height: auto;
          position: relative;
          padding: 1rem;
        }
        
        .content, footer {
          margin-left: 0;
        }
        
        .content {
          padding: 1.5rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="sidebar">
      <div>

        <h2>Sommaire</h2>
        <a href="#intro">
          <svg class="icon"><use href="#book"></use></svg> Introduction
        </a>
      <a href="#auth">
        <svg class="icon"><use href="#lock"></use></svg> Authentification
      </a>
      <a href="#endpoints">
        <svg class="icon"><use href="#api"></use></svg> Endpoints
      </a>
      <a href="#collection">
        <svg class="icon"><use href="#download"></use></svg> /collection
      </a>
      <a href="#disbursement">
        <svg class="icon"><use href="#upload"></use></svg> /disbursement
      </a>
      <a href="#remittance">
        <svg class="icon"><use href="#globe"></use></svg> /remittance
      </a>
      <a href="#tester">
        <svg class="icon"><use href="#test"></use></svg> Testeur d'API
      </a>
    </div>
    <div class="footer">© 2025 MomoConnect. Tous droits réservés.</div>

    </div>

    <div class="content">
      <h1 id="intro">Documentation API MomoConnect</h1>
      <p>
        <strong>MomoConnect</strong> — L'app simple et rapide pour
        <strong>envoyer</strong>, <strong>recevoir</strong> et
        <strong>gérer vos transactions Mobile Money</strong> en toute sécurité.
      </p>
      <p>
        Cette API REST vous permet d'intégrer facilement des fonctionnalités de
        paiement mobile dans vos applications web ou mobiles. Que ce soit pour
        collecter des paiements, envoyer des fonds ou effectuer des transferts
        internationaux, <strong>MomoConnect</strong> est là pour simplifier vos
        opérations.
      </p>

      <h2 id="auth">Authentification</h2>
      <p>Toutes les requêtes nécessitent un token d'accès (Bearer Token) :</p>
      <pre data-lang="HTTP">Authorization: Bearer &lt;votre_token&gt;</pre>

      <h2 id="endpoints">Endpoints disponibles</h2>
      <ul>
        <li><a href="#collection">POST /collection</a> — Collecte de paiements</li>
        <li><a href="#disbursement">POST /disbursement</a> — Envoi de fonds</li>
        <li><a href="#remittance">POST /remittance</a> — Transfert international</li>
      </ul>

      <h3 id="collection">POST /collection</h3>
      <p>Demander un paiement à un utilisateur Mobile Money.</p>
      <strong>Body attendu :</strong>
      <pre data-lang="JSON">{
  "numeroExpediteur": "string (format MSISDN, ex: 237650000000)",
  "numeroRecepteur": "string (format MSISDN, ex: 237690000000)"
}</pre>
      <strong>Détails des champs :</strong>
      <table>
        <tr><th>Champ</th><th>Type</th><th>Obligatoire</th><th>Description</th></tr>
        <tr><td>numeroExpediteur</td><td>string</td><td>Oui</td><td>Numéro du client payeur</td></tr>
        <tr><td>numeroRecepteur</td><td>string</td><td>Oui</td><td>Numéro qui reçoit les fonds</td></tr>
      </table>
      <strong>Réponse :</strong>
      <pre data-lang="JSON">{
  "message": "Paiement demandé avec succès",
  "data": {
    "transactionId": "string",
    "status": "PENDING",
    "timestamp": "2025-05-11T12:34:56Z"
  }
}</pre>

      <h3 id="disbursement">POST /disbursement</h3>
      <p>Envoyer des fonds à un utilisateur Mobile Money.</p>
      <strong>Body attendu :</strong>
      <pre data-lang="JSON">{
  "numeroExpediteur": "string",
  "numeroRecepteur": "string",
  "amount": "number (ex: 5000)",
  "currency": "string (ex: XAF, USD)"
}</pre>
      <strong>Détails des champs :</strong>
      <table>
        <tr><th>Champ</th><th>Type</th><th>Obligatoire</th><th>Description</th></tr>
        <tr><td>numeroExpediteur</td><td>string</td><td>Oui</td><td>Votre numéro ou compte d'entreprise</td></tr>
        <tr><td>numeroRecepteur</td><td>string</td><td>Oui</td><td>Bénéficiaire</td></tr>
        <tr><td>amount</td><td>number</td><td>Oui</td><td>Montant à envoyer</td></tr>
        <tr><td>currency</td><td>string</td><td>Oui</td><td>Devise (XAF, USD, etc.)</td></tr>
      </table>
      <strong>Réponse :</strong>
      <pre data-lang="JSON">{
  "message": "Argent envoyé avec succès",
  "data": {
    "transactionId": "string",
    "amount": 5000,
    "currency": "XAF",
    "status": "COMPLETED",
    "timestamp": "2025-05-11T12:34:56Z"
  }
}</pre>

      <h3 id="remittance">POST /remittance</h3>
      <p>Effectuer un transfert international Mobile Money.</p>
      <strong>Body attendu :</strong>
      <pre data-lang="JSON">{
  "numeroExpediteur": "string",
  "numeroRecepteur": "string",
  "amount": "number",
  "currency": "string"
}</pre>
      <strong>Détails des champs :</strong>
      <table>
        <tr><th>Champ</th><th>Type</th><th>Obligatoire</th><th>Description</th></tr>
        <tr><td>numeroExpediteur</td><td>string</td><td>Oui</td><td>Expéditeur (pays d'origine)</td></tr>
        <tr><td>numeroRecepteur</td><td>string</td><td>Oui</td><td>Destinataire (pays cible)</td></tr>
        <tr><td>amount</td><td>number</td><td>Oui</td><td>Montant à transférer</td></tr>
        <tr><td>currency</td><td>string</td><td>Oui</td><td>Devise cible</td></tr>
      </table>
      <strong>Réponse :</strong>
      <pre data-lang="JSON">{
  "message": "Transfert international réussi",
  "data": {
    "transactionId": "string",
    "amount": 100,
    "currency": "USD",
    "exchangeRate": 615.5,
    "status": "COMPLETED",
    "timestamp": "2025-05-11T12:34:56Z"
  }
}</pre>

      <h2 id="tester">Testeur d'API</h2>
      <div class="api-tester">
        <h3>Tester les endpoints</h3>
        
        <label for="endpoint-select">Endpoint:</label>
        <select id="endpoint-select">
          <option value="/collection">POST /collection</option>
          <option value="/disbursement">POST /disbursement</option>
          <option value="/remittance">POST /remittance</option>
        </select>
        
        <label for="request-body">Corps de la requête (JSON):</label>
        <textarea id="request-body" placeholder='{
  "numeroExpediteur": "237650000000",
  "numeroRecepteur": "237690000000",
  "amount": 5000,
  "currency": "XAF"
}'></textarea>
        
        <button onclick="sendRequest()">Envoyer la requête</button>
        
        <div class="response-area" id="response-area">
          <p>La réponse de l'API s'affichera ici...</p>
        </div>
      </div>
    </div>


    <!-- Icônes Lucide -->s
    <svg style="display: no ne;">
      <symbol id="book" viewBox="0 0 24 24"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></symbol>
      <symbol id="lock" viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></symbol>
      <symbol id="api" viewBox="0 0 24 24"><path d="M4 13h5v8H4z"/><path d="M15 6h5v8h-5z"/><path d="M12 20V10"/><path d="M9 8l3-3 3 3"/></symbol>
      <symbol id="download" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><path d="m7 10 5 5 5-5"/><path d="M12 15V3"/></symbol>
      <symbol id="upload" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><path d="m17 8-5-5-5 5"/><path d="M12 3v12"/></symbol>
      <symbol id="globe" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M2 12h20"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></symbol>
      <symbol id="test" viewBox="0 0 24 24"><path d="m9 12 2 2 4-4"/><path d="M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z"/></symbol>
    </svg>

    <script>
      function sendRequest() {
        const endpoint = document.getElementById('endpoint-select').value;
        const requestBody = document.getElementById('request-body').value;
        const responseArea = document.getElementById('response-area');
        
        try {
          // Simulation de réponse (à remplacer par un appel API réel)
          const jsonBody = JSON.parse(requestBody || '{}');
          
          let response;
          switch(endpoint) {
            case '/collection':
              response = {
                message: "Paiement demandé avec succès",
                data: {
                  transactionId: "COL" + Math.floor(Math.random() * 1000000),
                  numeroExpediteur: jsonBody.numeroExpediteur,
                  numeroRecepteur: jsonBody.numeroRecepteur,
                  status: "PENDING",
                  timestamp: new Date().toISOString()
                }
              };
              break;
              
            case '/disbursement':
              response = {
                message: "Argent envoyé avec succès",
                data: {
                  transactionId: "DIS" + Math.floor(Math.random() * 1000000),
                  numeroExpediteur: jsonBody.numeroExpediteur,
                  numeroRecepteur: jsonBody.numeroRecepteur,
                  amount: jsonBody.amount,
                  currency: jsonBody.currency,
                  status: "COMPLETED",
                  timestamp: new Date().toISOString()
                }
              };
              break;
              
            case '/remittance':
              response = {
                message: "Transfert international réussi",
                data: {
                  transactionId: "REM" + Math.floor(Math.random() * 1000000),
                  numeroExpediteur: jsonBody.numeroExpediteur,
                  numeroRecepteur: jsonBody.numeroRecepteur,
                  amount: jsonBody.amount,
                  currency: jsonBody.currency,
                  exchangeRate: 615.5,
                  status: "COMPLETED",
                  timestamp: new Date().toISOString()
                }
              };
              break;
          }
          
          // responseArea.innerHTML = `
          //   <p><strong>Endpoint appelé:</strong> POST ${endpoint}</p>
          //   <p><strong>Statut:</strong> 200 OK</p>
          //   <p><strong>Réponse:</strong></p>
          //   <pre>${JSON.stringify(response, null, 2)}</pre>
          // `;
          
        } catch (error) {
          responseArea.innerHTML = `
            <p style="color: #e74c3c;"><strong>Erreur:</strong> ${error.message}</p>
            <p>Vérifiez que votre JSON est valide.</p>
          `;
        }
        
        // Pour une implémentation réelle :
        fetch('http://localhost:3000' + endpoint, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': 'Bearer VOTRE_TOKEN'
          },
          body: requestBody
        })
        .then(response => response.json())
        .then(data => {
          responseArea.innerHTML = `<pre>${JSON.stringify(data, null, 2)}</pre>`;
        })
        .catch(error => {
          responseArea.innerHTML = `<p style="color:red">Erreur: ${error.message}</p>`;
        });
      }
    </script>
  </body>
</html>